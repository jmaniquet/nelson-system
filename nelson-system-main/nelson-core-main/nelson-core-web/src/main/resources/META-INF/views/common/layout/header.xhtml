<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:nelson="http://java.sun.com/jsf/composite/nelson">
	
	<f:facet name="header">
		<nelson:outputMessage key="header.title" />
	</f:facet>
	
	<h:form id="header-form">
		<p:themeSwitcher
			id="basic-advanced"
			style="width:165px"
			effect="fade"
			var="t"
			value="#{userPreferences.theme}"
			converter="themeConverter">
			<f:selectItem itemLabel="Choose Theme" itemValue="#{null}" noSelectionOption="true" />
			<f:selectItems value="#{themeSwitcherController.themes}" var="theme" itemValue="#{theme}" itemLabel="#{theme.displayName}" />
			
			<p:column>
				<h:outputText styleClass="ui-theme ui-theme-#{t.themeName}" style="display-block" />
			</p:column>
			<p:column>
				<h:outputText value="#{t.displayName}" />
			</p:column>
			
			<p:ajax listener="#{themeSwitcherController.saveTheme}" />
		</p:themeSwitcher>
	</h:form>
</ui:composition>